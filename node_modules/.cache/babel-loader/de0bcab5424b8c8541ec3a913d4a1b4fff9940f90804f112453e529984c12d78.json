{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from'axios';// Importez axios ici\nimport\"./index.css\";import Ad from\"../../elements/ad/Ad\";import Listbox from\"../../card/listbox/Listbox.js\";import Quotes from\"../../elements/quote/Quote.js\";import Form from\"../../form/Form.js\";import LessPlant from\"../../elements/list-info/LessPlant.js\";import MoreButton from\"../../elements/button/MoreButton.js\";import CardPhoto from\"../../card/card-photo/CardPhoto.js\";import CardParcelleComponent from\"../../card/card-parcelle/CardParcelle.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const TerrainBoard=()=>{const[terrainsValides,setTerrainsValides]=useState([]);useEffect(()=>{// Récupérer le nom d'utilisateur depuis le localStorage lors du montage du composant\nlet storedId=localStorage.getItem(\"userId\");let request=\"https://cropfarmback-production.up.railway.app/terrains/proprietaire/valid/\";request+=storedId;console.log(request);axios.get(request).then(response=>{// Mettez à jour l'état avec les données récupérées depuis l'API\nsetTerrainsValides(response.data);}).catch(error=>{console.log('Erreur lors de la récupération des terrains non valides :',error);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"background-terrain-card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"contain-card-pic\",children:terrainsValides.map(terrain=>/*#__PURE__*/_jsx(CardPhoto,{id:terrain.id_terrain,desc:terrain.desc_terrain,coord:terrain.coord_location}))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"greeting\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Liste de vos terrains valid\\xE9s\"}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:\"Voici les terrains qui sont en votre possession cher propri\\xE9taire\"})]})]});};export default TerrainBoard;","map":{"version":3,"names":["React","useEffect","useState","axios","Ad","Listbox","Quotes","Form","LessPlant","MoreButton","CardPhoto","CardParcelleComponent","jsx","_jsx","jsxs","_jsxs","TerrainBoard","terrainsValides","setTerrainsValides","storedId","localStorage","getItem","request","console","log","get","then","response","data","catch","error","className","children","map","terrain","id","id_terrain","desc","desc_terrain","coord","coord_location"],"sources":["/Users/macbook/Documents/git clones/crop_farm_back_office/src/component/box/board/TerrainBoard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from 'axios'; // Importez axios ici\nimport \"./index.css\";\nimport Ad from \"../../elements/ad/Ad\";\nimport Listbox from \"../../card/listbox/Listbox.js\"\nimport Quotes from \"../../elements/quote/Quote.js\";\nimport  Form from \"../../form/Form.js\"\nimport LessPlant from \"../../elements/list-info/LessPlant.js\";\nimport MoreButton from \"../../elements/button/MoreButton.js\";\nimport CardPhoto from \"../../card/card-photo/CardPhoto.js\";\nimport CardParcelleComponent from \"../../card/card-parcelle/CardParcelle.js\";\n\nconst TerrainBoard = () => {\n  const [terrainsValides, setTerrainsValides] = useState([]);\n\n  useEffect(() => {\n    // Récupérer le nom d'utilisateur depuis le localStorage lors du montage du composant\n    let storedId = localStorage.getItem(\"userId\");\n    let request = \"https://cropfarmback-production.up.railway.app/terrains/proprietaire/valid/\";\n    request += storedId;\n    \n    console.log(request);\n\n    axios.get(request)\n    .then(response => {\n      // Mettez à jour l'état avec les données récupérées depuis l'API\n      setTerrainsValides(response.data);\n    })\n    .catch(error => {\n      console.log('Erreur lors de la récupération des terrains non valides :', error);\n    });\n\n    \n  }, []);\n\n  return (\n      <div className=\"container\">\n      <div className=\"background-terrain-card\" >\n\n      <div className=\"contain-card-pic\">\n      {terrainsValides.map(terrain => (\n          <CardPhoto id={terrain.id_terrain} desc={terrain.desc_terrain} coord={terrain.coord_location}/>\n      ))}\n      </div>\n\n      </div>\n      \n      <div className=\"greeting\" >      \n      <h1 className=\"title\">Liste de vos terrains validés</h1>\n        <p className=\"subtitle\">Voici les terrains qui sont en votre possession cher propriétaire</p>\n      </div>\n    </div>\n  );\n\n}\n\nexport default TerrainBoard;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAE;AAC3B,MAAO,aAAa,CACpB,MAAO,CAAAC,EAAE,KAAM,sBAAsB,CACrC,MAAO,CAAAC,OAAO,KAAM,+BAA+B,CACnD,MAAO,CAAAC,MAAM,KAAM,+BAA+B,CAClD,MAAQ,CAAAC,IAAI,KAAM,oBAAoB,CACtC,MAAO,CAAAC,SAAS,KAAM,uCAAuC,CAC7D,MAAO,CAAAC,UAAU,KAAM,qCAAqC,CAC5D,MAAO,CAAAC,SAAS,KAAM,oCAAoC,CAC1D,MAAO,CAAAC,qBAAqB,KAAM,0CAA0C,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7E,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAE1DD,SAAS,CAAC,IAAM,CACd;AACA,GAAI,CAAAkB,QAAQ,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAC7C,GAAI,CAAAC,OAAO,CAAG,6EAA6E,CAC3FA,OAAO,EAAIH,QAAQ,CAEnBI,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC,CAEpBnB,KAAK,CAACsB,GAAG,CAACH,OAAO,CAAC,CACjBI,IAAI,CAACC,QAAQ,EAAI,CAChB;AACAT,kBAAkB,CAACS,QAAQ,CAACC,IAAI,CAAC,CACnC,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,EAAI,CACdP,OAAO,CAACC,GAAG,CAAC,2DAA2D,CAAEM,KAAK,CAAC,CACjF,CAAC,CAAC,CAGJ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIf,KAAA,QAAKgB,SAAS,CAAC,WAAW,CAAAC,QAAA,eAC1BnB,IAAA,QAAKkB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,cAExCnB,IAAA,QAAKkB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAChCf,eAAe,CAACgB,GAAG,CAACC,OAAO,eACxBrB,IAAA,CAACH,SAAS,EAACyB,EAAE,CAAED,OAAO,CAACE,UAAW,CAACC,IAAI,CAAEH,OAAO,CAACI,YAAa,CAACC,KAAK,CAAEL,OAAO,CAACM,cAAe,CAAC,CACjG,CAAC,CACG,CAAC,CAED,CAAC,cAENzB,KAAA,QAAKgB,SAAS,CAAC,UAAU,CAAAC,QAAA,eACzBnB,IAAA,OAAIkB,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,kCAA6B,CAAI,CAAC,cACtDnB,IAAA,MAAGkB,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,sEAAiE,CAAG,CAAC,EAC1F,CAAC,EACH,CAAC,CAGV,CAAC,CAED,cAAe,CAAAhB,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}