{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Documents/react-results/crop-farm/src/component/form/UpdatingForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios'; // Importez axios ici\n\nimport \"./index.css\"; // Importez votre fichier CSS\nimport Input from \"../elements/input/Input.js\";\nimport BtnprimaryComponent from \"../elements/button/BtnPrimary.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Form = ({\n  type,\n  toupdate,\n  id,\n  idname\n}) => {\n  _s();\n  // let toupdate = \"set\";\n  // toupdate+=updateobjectupper;\n  const [updatedvalue, setUpdatedValue] = useState(\"\"); // état pour l'objet\n  // const [password, setPassword] = useState(\"\"); // état pour le mot de passe\n\n  const handleUpdatedValueChange = e => {\n    setEmail(e.target.value); // Met à jour l'état de l'e-mail lorsque l'utilisateur tape dans le champ d'entrée\n  };\n  const handleSubmit = async e => {\n    e.preventDefault(); // Empêche le rechargement de la page lors de la soumission du formulaire\n\n    // Vous pouvez maintenant utiliser 'email' et 'password' pour effectuer des opérations, telles que des appels API avec Axios\n    console.log(\"toupdate:\", updatedvalue);\n    // console.log(\"Password:\", password);\n\n    // Exemple d'appel API avec Axios\n    try {\n      // Appel de l'API pour se connecter avec l'email et le mot de passe\n      const response = await axios.get(\"https://cropfarmback-production.up.railway.app/proprietaires/login\", {\n        params: {\n          mail: email,\n          mdp: password\n        }\n      });\n\n      // Gérer la réponse de l'API\n      console.log(\"Réponse de l'API :\", response.data);\n      const userId = response.data.id;\n      const username = response.data.nom;\n      const usermail = response.data.mail;\n\n      // Stocker des données dans le localStorage\n      localStorage.setItem('userId', userId);\n      localStorage.setItem('username', username);\n      localStorage.setItem('usermail', usermail);\n      window.location.href = \"/dashboard\";\n      // Rediriger vers le tableau de bord ou effectuer d'autres actions en fonction de la réponse\n    } catch (error) {\n      // Gérer les erreurs d'authentification\n      alert(\"Erreur lors de la connexion veuillez réessayer ^^\");\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"float-bloc-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"greet\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"hidden\",\n          value: id,\n          name: \"id\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title\",\n          children: [\"Modifier \", toupdate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"subtitle\",\n          children: \"Modifier...modifier...modifier...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: type,\n        placeholder: toupdate,\n        value: updatedvalue,\n        onChange: handleUpdatedValueChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BtnprimaryComponent, {\n        holder: \"Modifier\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n_s(Form, \"cU0aEF2yS40UsSdY4YGRZrB/9QU=\");\n_c = Form;\nexport default Form;\nvar _c;\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["React","useState","useEffect","axios","Input","BtnprimaryComponent","jsxDEV","_jsxDEV","Fragment","_Fragment","Form","type","toupdate","id","idname","_s","updatedvalue","setUpdatedValue","handleUpdatedValueChange","e","setEmail","target","value","handleSubmit","preventDefault","console","log","response","get","params","mail","email","mdp","password","data","userId","username","nom","usermail","localStorage","setItem","window","location","href","error","alert","children","className","name","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","holder","_c","$RefreshReg$"],"sources":["/Users/macbook/Documents/react-results/crop-farm/src/component/form/UpdatingForm.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from 'axios'; // Importez axios ici\n\nimport \"./index.css\"; // Importez votre fichier CSS\nimport Input from \"../elements/input/Input.js\";\nimport BtnprimaryComponent from \"../elements/button/BtnPrimary.js\";\nconst Form = ({type,toupdate,id,idname}) => {\n\n  // let toupdate = \"set\";\n  // toupdate+=updateobjectupper;\n  const [updatedvalue, setUpdatedValue] = useState(\"\"); // état pour l'objet\n  // const [password, setPassword] = useState(\"\"); // état pour le mot de passe\n\n  const handleUpdatedValueChange = (e) => {\n    setEmail(e.target.value); // Met à jour l'état de l'e-mail lorsque l'utilisateur tape dans le champ d'entrée\n  };\n\n  const handleSubmit = async (e) => {\n\n      e.preventDefault(); // Empêche le rechargement de la page lors de la soumission du formulaire\n    \n      // Vous pouvez maintenant utiliser 'email' et 'password' pour effectuer des opérations, telles que des appels API avec Axios\n      console.log(\"toupdate:\", updatedvalue);\n      // console.log(\"Password:\", password);\n    \n      // Exemple d'appel API avec Axios\n      try {\n        // Appel de l'API pour se connecter avec l'email et le mot de passe\n        const response = await axios.get(\"https://cropfarmback-production.up.railway.app/proprietaires/login\", {\n          params: {\n            mail: email,\n            mdp: password,\n          },\n        });\n    \n        // Gérer la réponse de l'API\n        console.log(\"Réponse de l'API :\", response.data);\n        const userId = response.data.id;\n        const username = response.data.nom;\n        const usermail = response.data.mail;\n\n        // Stocker des données dans le localStorage\n        localStorage.setItem('userId', userId);\n        localStorage.setItem('username',username);\n        localStorage.setItem('usermail',usermail);\n\n        window.location.href = \"/dashboard\";\n        // Rediriger vers le tableau de bord ou effectuer d'autres actions en fonction de la réponse\n      } catch (error) {\n        // Gérer les erreurs d'authentification\n          alert(\"Erreur lors de la connexion veuillez réessayer ^^\");\n          console.log(error);\n      }\n\n};\n  \n  return (\n    <>\n    <div className=\"float-bloc-list\">\n        <div className=\"greet\" >\n            <input type=\"hidden\" value={id} name=\"id\" />\n            <div className=\"title\">Modifier {toupdate}</div>\n            <div className=\"subtitle\">Modifier...modifier...modifier...</div>\n        </div>\n        <Input type={type} placeholder={toupdate} value={updatedvalue} onChange={handleUpdatedValueChange}/>\n        <BtnprimaryComponent holder=\"Modifier\"/>\n    </div>\n    \n    </>\n  );\n};\n\nexport default Form;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}