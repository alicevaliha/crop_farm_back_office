{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from'axios';import\"./index.css\";import Input from\"../elements/input/Input.js\";import BtnprimaryComponent from\"../elements/button/BtnPrimary.js\";import Select from\"../elements/input/Select.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const FormPlante=()=>{var _categories$data;const[nom,setNom]=useState(\"\");const[prixVente,setPrixVente]=useState(\"\");const[prixAchat,setPrixAchat]=useState(\"\");const[categorie,setCategorie]=useState(\"\");const[rendement,setRendement]=useState(\"\");const[categories,setCategories]=useState([]);useEffect(()=>{let request2=\"https://cropfarmback-production.up.railway.app/api/categorie/cultures\";axios.get(request2).then(response=>{setCategories(response.data);console.log(response.data);}).catch(error=>{console.log('Erreur lors de la récupération des catégories de plantes :',error);});},[]);const handleNomChange=event=>{setNom(event.target.value);};const handlePrixVenteChange=event=>{setPrixVente(event.target.value);};const handlePrixAchatChange=event=>{setPrixAchat(event.target.value);};const handleCategorieChange=event=>{setCategorie(event.target.value);};const handleRendementChange=event=>{setRendement(event.target.value);};const handleCreation=async()=>{try{const response=await axios.post(\"https://cropfarmback-production.up.railway.app/plantes\",{nom_plante:nom,prixvente:parseFloat(prixVente),prixachat:parseFloat(prixAchat),id_categorie_culture:parseInt(categorie),sprite_plante:\"none\",placeingamemaker:0,corbeille:0,rendement:parseInt(rendement)});console.log(\"Nouvelle plante créée avec succès :\",response.data);window.location.href=\"/plantes\";// Mettre à jour l'interface ou rediriger l'utilisateur vers une autre page si nécessaire\n}catch(error){alert(\"Erreur lors de la création de la plante veuillez réessayer ^^\");console.error(\"Erreur lors de la création de la plante :\",error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"float-bloc-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"greet\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Ins\\xE9rer une nouvelle Plante\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtitle\",children:\"Soyez inspir\\xE9s, donnez-nous un nom !\"})]}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Nom\",value:nom,onChange:handleNomChange}),/*#__PURE__*/_jsx(Input,{type:\"number\",placeholder:\"Prix de vente\",value:prixVente,onChange:handlePrixVenteChange}),/*#__PURE__*/_jsx(Input,{type:\"number\",placeholder:\"Prix d'achat\",value:prixAchat,onChange:handlePrixAchatChange}),/*#__PURE__*/_jsx(Input,{type:\"number\",placeholder:\"Rendement\",value:rendement,onChange:handleRendementChange}),/*#__PURE__*/_jsxs(\"select\",{className:\"input-field input-container\",name:\"idcategorie\",value:categorie,onChange:handleCategorieChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Categorie de la plante\"}),(_categories$data=categories.data)===null||_categories$data===void 0?void 0:_categories$data.map(categorie=>/*#__PURE__*/_jsx(\"option\",{value:categorie.id_categorie_culture,children:categorie.nomcategorie}))]}),/*#__PURE__*/_jsx(BtnprimaryComponent,{holder:\"Cr\\xE9er\",onclick:handleCreation})]});};export default FormPlante;","map":{"version":3,"names":["React","useState","useEffect","axios","Input","BtnprimaryComponent","Select","jsx","_jsx","jsxs","_jsxs","FormPlante","_categories$data","nom","setNom","prixVente","setPrixVente","prixAchat","setPrixAchat","categorie","setCategorie","rendement","setRendement","categories","setCategories","request2","get","then","response","data","console","log","catch","error","handleNomChange","event","target","value","handlePrixVenteChange","handlePrixAchatChange","handleCategorieChange","handleRendementChange","handleCreation","post","nom_plante","prixvente","parseFloat","prixachat","id_categorie_culture","parseInt","sprite_plante","placeingamemaker","corbeille","window","location","href","alert","className","children","type","placeholder","onChange","name","map","nomcategorie","holder","onclick"],"sources":["/Users/macbook/Documents/git clones/crop_farm_back_office/src/component/form/FormPlante.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport \"./index.css\";\nimport Input from \"../elements/input/Input.js\";\nimport BtnprimaryComponent from \"../elements/button/BtnPrimary.js\";\nimport Select from \"../elements/input/Select.js\";\n\nconst FormPlante = () => {\n  const [nom, setNom] = useState(\"\");\n  const [prixVente, setPrixVente] = useState(\"\");\n  const [prixAchat, setPrixAchat] = useState(\"\");\n  const [categorie, setCategorie] = useState(\"\");\n  const [rendement, setRendement] = useState(\"\");\n  const [categories, setCategories] = useState([]);\n\n  useEffect(() => {\n    let request2 = \"https://cropfarmback-production.up.railway.app/api/categorie/cultures\";\n    axios.get(request2)\n      .then(response => {\n        setCategories(response.data);\n        console.log(response.data);\n      })\n      .catch(error => {\n        console.log('Erreur lors de la récupération des catégories de plantes :', error);\n      });\n  }, []);\n\n  const handleNomChange = (event) => {\n    setNom(event.target.value);\n  };\n\n  const handlePrixVenteChange = (event) => {\n    setPrixVente(event.target.value);\n  };\n\n  const handlePrixAchatChange = (event) => {\n    setPrixAchat(event.target.value);\n  };\n\n  const handleCategorieChange = (event) => {\n    setCategorie(event.target.value);\n  };\n\n  const handleRendementChange = (event) => {\n    setRendement(event.target.value);\n  };\n\n\n  const handleCreation = async () => {\n    try {\n      const response = await axios.post(\"https://cropfarmback-production.up.railway.app/plantes\", {\n        nom_plante: nom,\n        prixvente: parseFloat(prixVente),\n        prixachat: parseFloat(prixAchat),\n        id_categorie_culture: parseInt(categorie),\n        sprite_plante: \"none\",\n        placeingamemaker: 0,\n        corbeille: 0,\n        rendement: parseInt(rendement)\n      });\n\n      console.log(\"Nouvelle plante créée avec succès :\", response.data);\n      window.location.href = \"/plantes\";\n      // Mettre à jour l'interface ou rediriger l'utilisateur vers une autre page si nécessaire\n    } catch (error) {\n      alert(\"Erreur lors de la création de la plante veuillez réessayer ^^\");\n      console.error(\"Erreur lors de la création de la plante :\", error);\n    }\n  };\n\n  return (\n    <div className=\"float-bloc-list\">\n      <div className=\"greet\" >\n        <div className=\"title\">Insérer une nouvelle Plante</div>\n        <div className=\"subtitle\">Soyez inspirés, donnez-nous un nom !</div>\n      </div>\n      <Input type=\"text\" placeholder=\"Nom\" value={nom} onChange={handleNomChange} />\n      <Input type=\"number\" placeholder=\"Prix de vente\" value={prixVente} onChange={handlePrixVenteChange} />\n      <Input type=\"number\" placeholder=\"Prix d'achat\" value={prixAchat} onChange={handlePrixAchatChange} />\n      <Input type=\"number\" placeholder=\"Rendement\" value={rendement} onChange={handleRendementChange} />\n\n     <select className=\"input-field input-container\" name=\"idcategorie\" value={categorie} onChange={handleCategorieChange}>\n        <option value=\"\">Categorie de la plante</option>\n        {categories.data?.map(categorie => (\n            <option value={categorie.id_categorie_culture}>{categorie.nomcategorie}</option>\n        ))}\n      </select>\n      <BtnprimaryComponent holder=\"Créer\" onclick={handleCreation} />\n    </div>\n  );\n};\n\nexport default FormPlante;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}