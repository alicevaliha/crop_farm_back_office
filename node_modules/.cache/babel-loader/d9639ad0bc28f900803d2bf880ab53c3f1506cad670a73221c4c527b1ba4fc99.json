{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from'axios';// Importez axios ici\nimport\"./index.css\";import Card_one from\"../../card/card-1/Card_one\";import Card_two from\"../../card/card-2/Card_two\";import Graphbox from\"../../card/statbox/Graphbox\";import Statbox from\"../../card/statbox/Statbox\";import Ad from\"../../elements/ad/Ad\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Board=()=>{// √âtat pour stocker le nom d'utilisateur r√©cup√©r√© du localStorage\nconst[username,setUsername]=useState(\"\");// eslint-disable-next-line\nconst[usermail,setUsermail]=useState(\"\");const[datasurface,setDatasurface]=useState(\"\");const[datarecolte,setDatarecolte]=useState(\"\");const[datanbterrain,setDatanbterrain]=useState(\"\");const[datafromage,setDatafromage]=useState([]);const[datalinear,setDataLinear]=useState([]);useEffect(()=>{// R√©cup√©rer le nom d'utilisateur depuis le localStorage lors du montage du composant\nconst storedUsername=localStorage.getItem(\"username\");if(storedUsername){setUsername(storedUsername);}const storedUsermail=localStorage.getItem(\"usermail\");if(storedUsermail){setUsermail(storedUsermail);}// statistiques 1\nconst userId=localStorage.getItem(\"userId\");let req1=\"https://cropfarmback-production.up.railway.app/terrains/stats/\";req1+=userId;axios.get(req1).then(response=>{// Mettez √† jour l'√©tat avec les donn√©es r√©cup√©r√©es depuis l'API\nsetDatasurface(response.data[0].sum);console.log(response.data);}).catch(error=>{console.log('Erreur lors de la r√©cup√©ration des data surface :',error);});// statistiques2\nlet req2=\"https://cropfarmback-production.up.railway.app/planters/recoltes/\";req2+=userId;axios.get(req2).then(response=>{// Mettez √† jour l'√©tat avec les donn√©es r√©cup√©r√©es depuis l'API\nsetDatarecolte(response.data[0].recoltes);console.log(response.data);}).catch(error=>{console.log('Erreur lors de la r√©cup√©ration des data surface :',error);});// statistiques3\nlet req3=\"https://cropfarmback-production.up.railway.app/terrains/nombreterrains/\";req3+=userId;axios.get(req3).then(response=>{// Mettez √† jour l'√©tat avec les donn√©es r√©cup√©r√©es depuis l'API\nsetDatanbterrain(response.data[0].nbterrain);console.log(response.data);}).catch(error=>{console.log('Erreur lors de la r√©cup√©ration des data surface :',error);});// fromage stat\nlet req4=\"https://cropfarmback-production.up.railway.app/plantes/graphdara/\";req4+=userId;axios.get(req4).then(response=>{// Mettez √† jour l'√©tat avec les donn√©es r√©cup√©r√©es depuis l'API\nsetDatafromage(response.data);console.log(response.data);}).catch(error=>{console.log('Erreur lors de la r√©cup√©ration des data surface :',error);});//linear stat\nlet req5=\"https://cropfarmback-production.up.railway.app/plantes/statrecoltes/\";req5+=userId;axios.get(req5).then(response=>{// Mettez √† jour l'√©tat avec les donn√©es r√©cup√©r√©es depuis l'API\nsetDataLinear(response.data);console.log(response.data);}).catch(error=>{console.log('Erreur lors de la r√©cup√©ration des data surface :',error);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"background\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-container\",children:[/*#__PURE__*/_jsx(Card_one,{titre:\"Surface parcelles cultivables en votre possession\",info:datasurface,metrage:\"m\\xE8tre carr\\xE9\"}),/*#__PURE__*/_jsx(Card_two,{titre:\"Nombre de terrains en votre possession et valid\\xE9s\",info:datanbterrain,metrage:\"Terrains\"}),/*#__PURE__*/_jsx(Card_two,{titre:\"Nombre de plantes r\\xE9colt\\xE9es\",info:datarecolte,metrage:\"Plantes r\\xE9colt\\xE9es\"})]}),/*#__PURE__*/_jsx(Ad,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"boxes\",children:[/*#__PURE__*/_jsx(Graphbox,{datasource:datafromage}),/*#__PURE__*/_jsx(Statbox,{datasource:datalinear})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"greeting\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"title\",children:[\"Bonjour \",username,\" \\uD83C\\uDF3E\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:\"Bon retour sur votre interface administrateur\"})]})]});};export default Board;","map":{"version":3,"names":["React","useEffect","useState","axios","Card_one","Card_two","Graphbox","Statbox","Ad","jsx","_jsx","jsxs","_jsxs","Board","username","setUsername","usermail","setUsermail","datasurface","setDatasurface","datarecolte","setDatarecolte","datanbterrain","setDatanbterrain","datafromage","setDatafromage","datalinear","setDataLinear","storedUsername","localStorage","getItem","storedUsermail","userId","req1","get","then","response","data","sum","console","log","catch","error","req2","recoltes","req3","nbterrain","req4","req5","className","children","titre","info","metrage","datasource"],"sources":["/Users/macbook/Documents/git clones/crop_farm_back_office/src/component/box/board/Board.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from 'axios'; // Importez axios ici\n\nimport \"./index.css\";\nimport Card_one from \"../../card/card-1/Card_one\";\nimport Card_two from \"../../card/card-2/Card_two\";\nimport Graphbox from \"../../card/statbox/Graphbox\";\nimport Statbox from \"../../card/statbox/Statbox\";\nimport Ad from \"../../elements/ad/Ad\";\n\nconst Board = () => {\n  // √âtat pour stocker le nom d'utilisateur r√©cup√©r√© du localStorage\n  const [username, setUsername] = useState(\"\");\n  // eslint-disable-next-line\n  const [usermail, setUsermail] = useState(\"\");\n  const [datasurface, setDatasurface] = useState(\"\");\n  const [datarecolte, setDatarecolte] = useState(\"\");\n  const [datanbterrain, setDatanbterrain] = useState(\"\");\n  const [datafromage, setDatafromage] = useState([]);\n  const [datalinear, setDataLinear] = useState([]);\n  \n  useEffect(() => {\n    // R√©cup√©rer le nom d'utilisateur depuis le localStorage lors du montage du composant\n    const storedUsername = localStorage.getItem(\"username\");\n    if (storedUsername) {\n      setUsername(storedUsername);\n    }\n    const storedUsermail = localStorage.getItem(\"usermail\");\n    if (storedUsermail) {\n      setUsermail(storedUsermail);\n    }\n\n    // statistiques 1\n    const userId = localStorage.getItem(\"userId\");\n    let req1 = \"https://cropfarmback-production.up.railway.app/terrains/stats/\";\n    req1+=userId;\n    axios.get(req1)\n      .then(response => {\n        // Mettez √† jour l'√©tat avec les donn√©es r√©cup√©r√©es depuis l'API\n        setDatasurface(response.data[0].sum);\n        console.log(response.data);\n    })\n    .catch(error => {\n      console.log('Erreur lors de la r√©cup√©ration des data surface :', error);\n    });\n\n    // statistiques2\n    let req2 = \"https://cropfarmback-production.up.railway.app/planters/recoltes/\";\n    req2+=userId;\n    axios.get(req2)\n      .then(response => {\n        // Mettez √† jour l'√©tat avec les donn√©es r√©cup√©r√©es depuis l'API\n        setDatarecolte(response.data[0].recoltes);\n        console.log(response.data);\n    })\n    .catch(error => {\n      console.log('Erreur lors de la r√©cup√©ration des data surface :', error);\n    });\n\n    // statistiques3\n    let req3 = \"https://cropfarmback-production.up.railway.app/terrains/nombreterrains/\";\n    req3+=userId;\n    axios.get(req3)\n      .then(response => {\n        // Mettez √† jour l'√©tat avec les donn√©es r√©cup√©r√©es depuis l'API\n        setDatanbterrain(response.data[0].nbterrain);\n        console.log(response.data);\n    })\n    .catch(error => {\n      console.log('Erreur lors de la r√©cup√©ration des data surface :', error);\n    });\n\n    // fromage stat\n    let req4 = \"https://cropfarmback-production.up.railway.app/plantes/graphdara/\";\n    req4+=userId;\n    axios.get(req4)\n      .then(response => {\n        // Mettez √† jour l'√©tat avec les donn√©es r√©cup√©r√©es depuis l'API\n        setDatafromage(response.data);\n        console.log(response.data);\n    })\n    .catch(error => {\n      console.log('Erreur lors de la r√©cup√©ration des data surface :', error);\n    });\n\n    //linear stat\n    let req5 = \"https://cropfarmback-production.up.railway.app/plantes/statrecoltes/\";\n    req5+=userId;\n    axios.get(req5)\n      .then(response => {\n        // Mettez √† jour l'√©tat avec les donn√©es r√©cup√©r√©es depuis l'API\n        setDataLinear(response.data);\n        console.log(response.data);\n    })\n    .catch(error => {\n      console.log('Erreur lors de la r√©cup√©ration des data surface :', error);\n    });\n\n\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <div className=\"background\">\n        <div className=\"card-container\">\n          <Card_one titre=\"Surface parcelles cultivables en votre possession\" info={datasurface} metrage=\"m√®tre carr√©\"/>\n          <Card_two titre=\"Nombre de terrains en votre possession et valid√©s\" info={datanbterrain} metrage=\"Terrains\"/>\n          <Card_two titre=\"Nombre de plantes r√©colt√©es\" info={datarecolte} metrage=\"Plantes r√©colt√©es\"/>\n        </div>\n        <Ad />\n        <div className=\"boxes\">\n          <Graphbox datasource={datafromage}/>\n          <Statbox datasource={datalinear}/>\n        </div>\n        {/* <Listbox /> */}\n      </div>\n\n      <div className=\"greeting\">\n        {/* Utilisation du nom d'utilisateur r√©cup√©r√© dans le JSX */}\n        <h1 className=\"title\">Bonjour {username} üåæ</h1>\n        <p className=\"subtitle\">Bon retour sur votre interface administrateur</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Board;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}