{"ast":null,"code":"import React,{useEffect,useRef}from\"react\";import Chart from\"chart.js/auto\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Graphbox=_ref=>{let{datasource}=_ref;const chartRef=useRef(null);useEffect(()=>{if(!datasource||!Array.isArray(datasource)||datasource.length===0){return;// Ne rien faire si datasource est vide ou non défini\n}const labels=datasource.map(entry=>entry.mois);const data=datasource.map(entry=>entry.total_recolte);const monthlyHarvests={labels:labels,datasets:[{label:\"Récoltes mensuelles\",data:data,fill:false,borderColor:\"rgb(75, 192, 192)\",tension:0.1}]};const myChart=new Chart(chartRef.current,{type:\"line\",data:monthlyHarvests});return()=>{myChart.destroy();};},[datasource]);return/*#__PURE__*/_jsxs(\"div\",{className:\"float-bloc-stat\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"greet\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Statistiques du mois\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtitle\",children:\"\\xC9volution des r\\xE9coltes mensuelles\"})]}),/*#__PURE__*/_jsx(\"canvas\",{ref:chartRef})]});};export default Graphbox;","map":{"version":3,"names":["React","useEffect","useRef","Chart","jsx","_jsx","jsxs","_jsxs","Graphbox","_ref","datasource","chartRef","Array","isArray","length","labels","map","entry","mois","data","total_recolte","monthlyHarvests","datasets","label","fill","borderColor","tension","myChart","current","type","destroy","className","children","ref"],"sources":["/Users/macbook/Documents/git clones/crop_farm_back_office/src/component/card/statbox/Statbox.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport Chart from \"chart.js/auto\";\n\nconst Graphbox = ({ datasource }) => {\n  const chartRef = useRef(null);\n\n  useEffect(() => {\n    if (!datasource || !Array.isArray(datasource) || datasource.length === 0) {\n      return; // Ne rien faire si datasource est vide ou non défini\n    }\n\n    const labels = datasource.map(entry => entry.mois);\n    const data = datasource.map(entry => entry.total_recolte);\n\n    const monthlyHarvests = {\n      labels: labels,\n      datasets: [\n        {\n          label: \"Récoltes mensuelles\",\n          data: data,\n          fill: false,\n          borderColor: \"rgb(75, 192, 192)\",\n          tension: 0.1,\n        },\n      ],\n    };\n\n    const myChart = new Chart(chartRef.current, {\n      type: \"line\",\n      data: monthlyHarvests,\n    });\n\n    return () => {\n      myChart.destroy();\n    };\n  }, [datasource]);\n\n  return (\n    <div className=\"float-bloc-stat\">\n      <div className=\"greet\">\n        <div className=\"title\">Statistiques du mois</div>\n        <div className=\"subtitle\">Évolution des récoltes mensuelles</div>\n      </div>\n      <canvas ref={chartRef}></canvas>\n    </div>\n  );\n};\n\nexport default Graphbox;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAChD,MAAO,CAAAC,KAAK,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAAoB,IAAnB,CAAEC,UAAW,CAAC,CAAAD,IAAA,CAC9B,KAAM,CAAAE,QAAQ,CAAGT,MAAM,CAAC,IAAI,CAAC,CAE7BD,SAAS,CAAC,IAAM,CACd,GAAI,CAACS,UAAU,EAAI,CAACE,KAAK,CAACC,OAAO,CAACH,UAAU,CAAC,EAAIA,UAAU,CAACI,MAAM,GAAK,CAAC,CAAE,CACxE,OAAQ;AACV,CAEA,KAAM,CAAAC,MAAM,CAAGL,UAAU,CAACM,GAAG,CAACC,KAAK,EAAIA,KAAK,CAACC,IAAI,CAAC,CAClD,KAAM,CAAAC,IAAI,CAAGT,UAAU,CAACM,GAAG,CAACC,KAAK,EAAIA,KAAK,CAACG,aAAa,CAAC,CAEzD,KAAM,CAAAC,eAAe,CAAG,CACtBN,MAAM,CAAEA,MAAM,CACdO,QAAQ,CAAE,CACR,CACEC,KAAK,CAAE,qBAAqB,CAC5BJ,IAAI,CAAEA,IAAI,CACVK,IAAI,CAAE,KAAK,CACXC,WAAW,CAAE,mBAAmB,CAChCC,OAAO,CAAE,GACX,CAAC,CAEL,CAAC,CAED,KAAM,CAAAC,OAAO,CAAG,GAAI,CAAAxB,KAAK,CAACQ,QAAQ,CAACiB,OAAO,CAAE,CAC1CC,IAAI,CAAE,MAAM,CACZV,IAAI,CAAEE,eACR,CAAC,CAAC,CAEF,MAAO,IAAM,CACXM,OAAO,CAACG,OAAO,CAAC,CAAC,CACnB,CAAC,CACH,CAAC,CAAE,CAACpB,UAAU,CAAC,CAAC,CAEhB,mBACEH,KAAA,QAAKwB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BzB,KAAA,QAAKwB,SAAS,CAAC,OAAO,CAAAC,QAAA,eACpB3B,IAAA,QAAK0B,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,sBAAoB,CAAK,CAAC,cACjD3B,IAAA,QAAK0B,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,yCAAiC,CAAK,CAAC,EAC9D,CAAC,cACN3B,IAAA,WAAQ4B,GAAG,CAAEtB,QAAS,CAAS,CAAC,EAC7B,CAAC,CAEV,CAAC,CAED,cAAe,CAAAH,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}