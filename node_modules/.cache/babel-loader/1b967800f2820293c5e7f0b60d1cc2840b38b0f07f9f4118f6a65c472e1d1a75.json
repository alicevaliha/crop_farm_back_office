{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from'axios';import'./index.css';import Profile from'../profile/Profile';import Calendar from'../../card/calendar/Calendar';import TerrainButton from'../../elements/button/TerrainButton';import Longad from'../../elements/ad/Longad';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const LeftNav=_ref=>{let{style}=_ref;const[username,setUsername]=useState(\"\");const[usermail,setUsermail]=useState(\"\");const[terrainsNonValides,setTerrainsNonValides]=useState([]);useEffect(()=>{const storedUsername=localStorage.getItem(\"username\");if(storedUsername){setUsername(storedUsername);}const storedUsermail=localStorage.getItem(\"usermail\");if(storedUsermail){setUsermail(storedUsermail);}let storedId=localStorage.getItem(\"userId\");let request=\"https://cropfarmback-production.up.railway.app/terrains/proprietaire/invalid/\";request+=storedId;axios.get(request).then(response=>{setTerrainsNonValides(response.data);}).catch(error=>{console.log('Erreur lors de la récupération des terrains non valides :',error);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"navleft\",style:style,children:[/*#__PURE__*/_jsx(Profile,{username:username,mail:usermail}),/*#__PURE__*/_jsx(Calendar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"greet\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Terrains \\xE0 valider\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtitle\",children:\"Validez la cr\\xE9ation de vos terrains\"})]}),terrainsNonValides.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"ul-leftnav\",children:terrainsNonValides.map(terrain=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(TerrainButton,{idterrain:terrain.id_terrain,surface:terrain.longueur*terrain.largeur})},terrain.id_terrain))}):/*#__PURE__*/_jsx(\"div\",{className:\"no-terrain-message\",children:\"Aucun terrain \\xE0 valider pour le moment.\"}),/*#__PURE__*/_jsx(Longad,{})]});};export default LeftNav;","map":{"version":3,"names":["React","useEffect","useState","axios","Profile","Calendar","TerrainButton","Longad","jsx","_jsx","jsxs","_jsxs","LeftNav","_ref","style","username","setUsername","usermail","setUsermail","terrainsNonValides","setTerrainsNonValides","storedUsername","localStorage","getItem","storedUsermail","storedId","request","get","then","response","data","catch","error","console","log","className","children","mail","length","map","terrain","idterrain","id_terrain","surface","longueur","largeur"],"sources":["/Users/macbook/Documents/git clones/crop_farm_back_office/src/component/box/nav/LeftNav.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from 'axios'; \nimport './index.css'; \nimport Profile from '../profile/Profile';\nimport Calendar from '../../card/calendar/Calendar';\nimport TerrainButton from '../../elements/button/TerrainButton';\nimport Longad from '../../elements/ad/Longad';\n\nconst LeftNav = ({ style }) => {\n  \n  const [username, setUsername] = useState(\"\");\n  const [usermail, setUsermail] = useState(\"\");\n  const [terrainsNonValides, setTerrainsNonValides] = useState([]);\n\n  useEffect(() => {\n    const storedUsername = localStorage.getItem(\"username\");\n    if (storedUsername) {\n      setUsername(storedUsername);\n    }\n    const storedUsermail = localStorage.getItem(\"usermail\");\n    if (storedUsermail) {\n      setUsermail(storedUsermail);\n    }\n\n    let storedId = localStorage.getItem(\"userId\");\n    let request = \"https://cropfarmback-production.up.railway.app/terrains/proprietaire/invalid/\";\n    request += storedId;\n    \n    axios.get(request)\n    .then(response => {\n      setTerrainsNonValides(response.data);\n    })\n    .catch(error => {\n      console.log('Erreur lors de la récupération des terrains non valides :', error);\n    });\n    \n  }, []);\n\n  return (\n    <div className=\"navleft\" style={style}>\n      <Profile username={username} mail={usermail}/>\n      <Calendar/>\n\n      <div className=\"greet\" >\n        <div className=\"title\">Terrains à valider</div>\n        <div className=\"subtitle\">Validez la création de vos terrains</div>\n      </div>\n      \n      {terrainsNonValides.length > 0 ? (\n        <ul className='ul-leftnav'>\n          {terrainsNonValides.map(terrain => (\n            <li key={terrain.id_terrain}>\n              <TerrainButton idterrain={terrain.id_terrain} surface={terrain.longueur * terrain.largeur}/>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <div className=\"no-terrain-message\">Aucun terrain à valider pour le moment.</div>\n      )}\n      \n      <Longad/>\n    </div> \n  );\n}\n\nexport default LeftNav;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,aAAa,CACpB,MAAO,CAAAC,OAAO,KAAM,oBAAoB,CACxC,MAAO,CAAAC,QAAQ,KAAM,8BAA8B,CACnD,MAAO,CAAAC,aAAa,KAAM,qCAAqC,CAC/D,MAAO,CAAAC,MAAM,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,OAAO,CAAGC,IAAA,EAAe,IAAd,CAAEC,KAAM,CAAC,CAAAD,IAAA,CAExB,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACe,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACiB,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAEhED,SAAS,CAAC,IAAM,CACd,KAAM,CAAAoB,cAAc,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CACvD,GAAIF,cAAc,CAAE,CAClBL,WAAW,CAACK,cAAc,CAAC,CAC7B,CACA,KAAM,CAAAG,cAAc,CAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CACvD,GAAIC,cAAc,CAAE,CAClBN,WAAW,CAACM,cAAc,CAAC,CAC7B,CAEA,GAAI,CAAAC,QAAQ,CAAGH,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAC7C,GAAI,CAAAG,OAAO,CAAG,+EAA+E,CAC7FA,OAAO,EAAID,QAAQ,CAEnBtB,KAAK,CAACwB,GAAG,CAACD,OAAO,CAAC,CACjBE,IAAI,CAACC,QAAQ,EAAI,CAChBT,qBAAqB,CAACS,QAAQ,CAACC,IAAI,CAAC,CACtC,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,EAAI,CACdC,OAAO,CAACC,GAAG,CAAC,2DAA2D,CAAEF,KAAK,CAAC,CACjF,CAAC,CAAC,CAEJ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACErB,KAAA,QAAKwB,SAAS,CAAC,SAAS,CAACrB,KAAK,CAAEA,KAAM,CAAAsB,QAAA,eACpC3B,IAAA,CAACL,OAAO,EAACW,QAAQ,CAAEA,QAAS,CAACsB,IAAI,CAAEpB,QAAS,CAAC,CAAC,cAC9CR,IAAA,CAACJ,QAAQ,GAAC,CAAC,cAEXM,KAAA,QAAKwB,SAAS,CAAC,OAAO,CAAAC,QAAA,eACpB3B,IAAA,QAAK0B,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,uBAAkB,CAAK,CAAC,cAC/C3B,IAAA,QAAK0B,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,wCAAmC,CAAK,CAAC,EAChE,CAAC,CAELjB,kBAAkB,CAACmB,MAAM,CAAG,CAAC,cAC5B7B,IAAA,OAAI0B,SAAS,CAAC,YAAY,CAAAC,QAAA,CACvBjB,kBAAkB,CAACoB,GAAG,CAACC,OAAO,eAC7B/B,IAAA,OAAA2B,QAAA,cACE3B,IAAA,CAACH,aAAa,EAACmC,SAAS,CAAED,OAAO,CAACE,UAAW,CAACC,OAAO,CAAEH,OAAO,CAACI,QAAQ,CAAGJ,OAAO,CAACK,OAAQ,CAAC,CAAC,EADrFL,OAAO,CAACE,UAEb,CACL,CAAC,CACA,CAAC,cAELjC,IAAA,QAAK0B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,4CAAuC,CAAK,CACjF,cAED3B,IAAA,CAACF,MAAM,GAAC,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAK,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}