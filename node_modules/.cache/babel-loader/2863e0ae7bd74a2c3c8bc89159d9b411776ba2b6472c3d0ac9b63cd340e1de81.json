{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Documents/react-results/crop-farm/src/component/form/LoginForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./index.css\";\nimport Input from \"../elements/input/Input.js\";\nimport BtnprimaryComponent from \"../elements/button/BtnPrimary.js\";\nimport axios from 'axios'; // Importez axios pour effectuer des appels API\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LoginForm = ({\n  objname\n}) => {\n  _s();\n  const [email, setEmail] = useState(\"\"); // état pour l'e-mail\n  const [password, setPassword] = useState(\"\"); // état pour le mot de passe\n\n  const handleEmailChange = e => {\n    setEmail(e.target.value); // Met à jour l'état de l'e-mail lorsque l'utilisateur tape dans le champ d'entrée\n  };\n  const handlePasswordChange = e => {\n    setPassword(e.target.value); // Met à jour l'état du mot de passe lorsque l'utilisateur tape dans le champ d'entrée\n  };\n  const handleSubmit = async e => {\n    e.preventDefault(); // Empêche le rechargement de la page lors de la soumission du formulaire\n\n    // Vous pouvez maintenant utiliser 'email' et 'password' pour effectuer des opérations, telles que des appels API avec Axios\n    console.log(\"Email:\", email);\n    console.log(\"Password:\", password);\n\n    // Exemple d'appel API avec Axios\n    try {\n      // Appel de l'API pour se connecter avec l'email et le mot de passe\n      const response = await axios.get(\"https://cropfarmback-production.up.railway.app/proprietaires/login\", {\n        params: {\n          mail: email,\n          mdp: password\n        }\n      });\n\n      // Gérer la réponse de l'API\n      console.log(\"Réponse de l'API :\", response.data);\n      const userId = response.data.id;\n      const username = response.data.nom;\n      const usermail = response.data.mail;\n\n      // Stocker des données dans le localStorage\n      localStorage.setItem('userId', userId);\n      localStorage.setItem('username', username);\n      localStorage.setItem('usermail', usermail);\n      window.location.href = \"/dashboard\";\n      // Rediriger vers le tableau de bord ou effectuer d'autres actions en fonction de la réponse\n    } catch (error) {\n      // Gérer les erreurs d'authentification\n      alert(\"Erreur lors de la connexion veuillez réessayer ^^\");\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"float-bloc-list login-bloc\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"greet\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title\",\n          children: [\"Connectez vous \\xE0 votre compte \", objname]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"subtitle\",\n          children: \"Soyez inspir\\xE9s donnez nous un nom!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"email\",\n        type: \"email\",\n        placeholder: \"Votre e-mail soit jean@gmail.com / alicia@gmail.com\",\n        value: email,\n        onChange: handleEmailChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"password\",\n        type: \"password\",\n        placeholder: \"Votre mot de passe soit donc mdpjean / mdpalicia\",\n        value: password,\n        onChange: handlePasswordChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(BtnprimaryComponent, {\n          holder: \"Se connecter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"coverbottom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(LoginForm, \"3B3pqDcVnkT+z/sPK6Z9zQsLP+s=\");\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useState","Input","BtnprimaryComponent","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","LoginForm","objname","_s","email","setEmail","password","setPassword","handleEmailChange","e","target","value","handlePasswordChange","handleSubmit","preventDefault","console","log","response","get","params","mail","mdp","data","userId","id","username","nom","usermail","localStorage","setItem","window","location","href","error","alert","children","className","fileName","_jsxFileName","lineNumber","columnNumber","name","type","placeholder","onChange","onSubmit","holder","_c","$RefreshReg$"],"sources":["/Users/macbook/Documents/react-results/crop-farm/src/component/form/LoginForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./index.css\"; \nimport Input from \"../elements/input/Input.js\";\nimport BtnprimaryComponent from \"../elements/button/BtnPrimary.js\";\nimport axios from 'axios'; // Importez axios pour effectuer des appels API\n\nconst LoginForm = ({ objname }) => {\n  const [email, setEmail] = useState(\"\"); // état pour l'e-mail\n  const [password, setPassword] = useState(\"\"); // état pour le mot de passe\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value); // Met à jour l'état de l'e-mail lorsque l'utilisateur tape dans le champ d'entrée\n  };\n\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value); // Met à jour l'état du mot de passe lorsque l'utilisateur tape dans le champ d'entrée\n  };\n\n  const handleSubmit = async (e) => {\n\n      e.preventDefault(); // Empêche le rechargement de la page lors de la soumission du formulaire\n    \n      // Vous pouvez maintenant utiliser 'email' et 'password' pour effectuer des opérations, telles que des appels API avec Axios\n      console.log(\"Email:\", email);\n      console.log(\"Password:\", password);\n    \n      // Exemple d'appel API avec Axios\n      try {\n        // Appel de l'API pour se connecter avec l'email et le mot de passe\n        const response = await axios.get(\"https://cropfarmback-production.up.railway.app/proprietaires/login\", {\n          params: {\n            mail: email,\n            mdp: password,\n          },\n        });\n    \n        // Gérer la réponse de l'API\n        console.log(\"Réponse de l'API :\", response.data);\n        const userId = response.data.id;\n        const username = response.data.nom;\n        const usermail = response.data.mail;\n\n        // Stocker des données dans le localStorage\n        localStorage.setItem('userId', userId);\n        localStorage.setItem('username',username);\n        localStorage.setItem('usermail',usermail);\n\n        window.location.href = \"/dashboard\";\n        // Rediriger vers le tableau de bord ou effectuer d'autres actions en fonction de la réponse\n      } catch (error) {\n        // Gérer les erreurs d'authentification\n          alert(\"Erreur lors de la connexion veuillez réessayer ^^\");\n          console.log(error);\n      }\n\n};\n  \n  return (\n    <>\n      <div className=\"float-bloc-list login-bloc\">\n        <div className=\"greet\">\n          <div className=\"title\">Connectez vous à votre compte {objname}</div>\n          <div className=\"subtitle\">Soyez inspirés donnez nous un nom!</div>\n        </div>\n        {/* Champ d'entrée pour l'e-mail */}\n        <Input name=\"email\" type=\"email\" placeholder=\"Votre e-mail soit jean@gmail.com / alicia@gmail.com\" value={email} onChange={handleEmailChange} />\n        {/* Champ d'entrée pour le mot de passe */}\n        <Input name=\"password\" type=\"password\" placeholder=\"Votre mot de passe soit donc mdpjean / mdpalicia\" value={password} onChange={handlePasswordChange} />\n        <form onSubmit={handleSubmit}>\n          {/* Bouton de soumission du formulaire */}\n          <BtnprimaryComponent holder=\"Se connecter\" />\n        </form>\n        <div className=\"coverbottom\"></div>\n      </div>\n\n    </>\n  );\n};\n\nexport default LoginForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}